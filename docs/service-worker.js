importScripts("https://storage.googleapis.com/workbox-cdn/releases/6.5.4/workbox-sw.js"),workbox?(console.log("✅ Workbox berhasil dimuat"),workbox.routing.registerRoute((({request:e})=>"navigate"===e.mode),new workbox.strategies.NetworkFirst({cacheName:"pages"})),workbox.routing.registerRoute((({request:e})=>"style"===e.destination||"script"===e.destination),new workbox.strategies.StaleWhileRevalidate({cacheName:"assets"})),workbox.routing.registerRoute((({request:e})=>"image"===e.destination),new workbox.strategies.CacheFirst({cacheName:"images",plugins:[new workbox.expiration.ExpirationPlugin({maxEntries:50})]})),workbox.routing.setCatchHandler((async({event:e})=>"document"===e.request.destination?caches.match("/offline.html"):Response.error())),self.addEventListener("push",(function(e){const t=e.data?e.data.json():{},o=t.title||"Notifikasi Baru",i={body:t.body||"Pesan baru diterima.",icon:"/Proyek_dua/asset/icons8.png",badge:"/Proyek_dua/asset/icons8.png",data:{url:t.url||"/"}};e.waitUntil(self.registration.showNotification(o,i))})),self.addEventListener("notificationclick",(function(e){e.notification.close(),e.waitUntil(clients.matchAll({type:"window",includeUncontrolled:!0}).then((t=>{for(const o of t)if(o.url===e.notification.data.url&&"focus"in o)return o.focus();if(clients.openWindow)return clients.openWindow(e.notification.data.url)})))}))):console.log("❌ Workbox gagal dimuat");