self.addEventListener("push",(function(i){const n=i.data?i.data.json():{},t=n.title||"Notifikasi Baru",o={body:n.body||"Pesan baru diterima.",icon:"/Proyek_dua/asset/icons8.png",badge:"/Proyek_dua/asset/icons8.png",data:n.url||"/"};i.waitUntil(self.registration.showNotification(t,o))})),self.addEventListener("notificationclick",(function(i){i.notification.close(),i.waitUntil(clients.matchAll({type:"window",includeUncontrolled:!0}).then((n=>{for(const t of n)if(t.url===i.notification.data&&"focus"in t)return t.focus();if(clients.openWindow)return clients.openWindow(i.notification.data)})))}));